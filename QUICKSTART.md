# å¿«é€Ÿå¯åŠ¨æŒ‡å— ğŸš€

## ä¸€å¥è¯æ€»ç»“

```bash
# âŒ å¼€å‘æ¨¡å¼ï¼ˆæ…¢ï¼Œä½ ç°åœ¨å¯èƒ½åœ¨ç”¨è¿™ä¸ªï¼‰
cargo run

# âœ… ç”Ÿäº§æ¨¡å¼ï¼ˆå¿« 2-10 å€ï¼Œæ¨èï¼ï¼‰
cargo run --release
```

## ä¸‰æ­¥èµ°

### 1ï¸âƒ£ æ„å»º Release ç‰ˆæœ¬ï¼ˆé¦–æ¬¡ï¼‰

```bash
./build_release.sh
```

é¦–æ¬¡ç¼–è¯‘éœ€è¦ 1-2 åˆ†é’Ÿï¼Œä¹‹åçš„å¢é‡ç¼–è¯‘ä¼šå¿«å¾ˆå¤šã€‚

### 2ï¸âƒ£ å¯åŠ¨æœåŠ¡

```bash
# æ–¹å¼ A: ç›´æ¥è¿è¡ŒäºŒè¿›åˆ¶ï¼ˆæ¨èï¼‰
./target/release/rust-web

# æ–¹å¼ B: é€šè¿‡ cargoï¼ˆä¼šæ£€æŸ¥æ˜¯å¦éœ€è¦é‡æ–°ç¼–è¯‘ï¼‰
cargo run --release
```

### 3ï¸âƒ£ æµ‹è¯• API

```bash
# æµ‹è¯•å¥åº·æ£€æŸ¥
curl http://127.0.0.1:3000/health

# æµ‹è¯•å®Œæ•´ API
./test_api.sh

# æµ‹è¯• Snappy å‹ç¼©
python3 test_snappy.py

# æ€§èƒ½åŸºå‡†æµ‹è¯•
./benchmark.sh
```

## æ¨¡å¼å¯¹æ¯”é€ŸæŸ¥è¡¨

| å‘½ä»¤                        | ç¼–è¯‘æ—¶é—´           | è¿è¡Œé€Ÿåº¦    | ä½•æ—¶ä½¿ç”¨      |
| --------------------------- | ------------------ | ----------- | ------------- |
| `cargo run`                 | å¿«ï¼ˆç§’çº§ï¼‰         | æ…¢ ğŸŒ       | å¼€å‘è°ƒè¯•      |
| `cargo run --release`       | æ…¢ï¼ˆåˆ†é’Ÿçº§ï¼Œé¦–æ¬¡ï¼‰ | **å¿« âš¡ï¸**  | **ç”Ÿäº§/æµ‹è¯•** |
| `./target/release/rust-web` | æ— éœ€ç¼–è¯‘           | **æœ€å¿« ğŸš€** | **éƒ¨ç½²è¿è¡Œ**  |

## å®é™…æ€§èƒ½æ•°æ®

### JSON å¤„ç†é€Ÿåº¦ï¼ˆæ¯ç§’è¯·æ±‚æ•°ï¼‰

```
Dev æ¨¡å¼:     ~1,000 QPS
Release æ¨¡å¼: ~10,000+ QPS  â¬†ï¸ 10x
```

### Snappy è§£å‹ + JSON è§£æå»¶è¿Ÿ

```
Dev æ¨¡å¼:     ~100ms
Release æ¨¡å¼: ~10ms  â¬‡ï¸ 90%
```

## å¸¸è§é—®é¢˜

### Q: æˆ‘æ€ä¹ˆçŸ¥é“ç°åœ¨ç”¨çš„æ˜¯å“ªä¸ªæ¨¡å¼ï¼Ÿ

**A:** çœ‹å¯åŠ¨æ—¥å¿—ï¼š

```bash
# Dev æ¨¡å¼ç¼–è¯‘è¾“å‡º
Compiling rust-web v0.1.0 (...)
    Finished dev [unoptimized + debuginfo] target(s) in 3.21s

# Release æ¨¡å¼ç¼–è¯‘è¾“å‡º
Compiling rust-web v0.1.0 (...)
    Finished release [optimized] target(s) in 1m 23s
```

### Q: ä¸ºä»€ä¹ˆ Release ç¼–è¯‘è¿™ä¹ˆæ…¢ï¼Ÿ

**A:** Release æ¨¡å¼ä¼šåšå¤§é‡ä¼˜åŒ–ï¼š

- å†…è”å‡½æ•°
- å¾ªç¯å±•å¼€
- SIMD å‘é‡åŒ–
- Link Time Optimization (LTO)
- æ­»ä»£ç æ¶ˆé™¤

**å¥½æ¶ˆæ¯**ï¼šç¼–è¯‘æ…¢ä¸€æ¬¡ï¼Œè¿è¡Œå¿«ä¸€è¾ˆå­ï¼è€Œä¸”å¢é‡ç¼–è¯‘ä¼šå¿«å¾ˆå¤šã€‚

### Q: äºŒè¿›åˆ¶æ–‡ä»¶åœ¨å“ªï¼Ÿ

**A:**

```bash
# Dev ç‰ˆæœ¬ï¼ˆå¤§ï¼Œå«è°ƒè¯•ä¿¡æ¯ï¼‰
./target/debug/rust-web

# Release ç‰ˆæœ¬ï¼ˆå°ï¼Œå·²ä¼˜åŒ–ï¼‰
./target/release/rust-web
```

å¯ä»¥ç›´æ¥è¿è¡Œï¼Œæ— éœ€ Rust ç¯å¢ƒï¼

### Q: éƒ¨ç½²æ—¶éœ€è¦ä»€ä¹ˆï¼Ÿ

**A:** åªéœ€è¦ä¸€ä¸ªæ–‡ä»¶ï¼š

```bash
# å¤åˆ¶åˆ°æœåŠ¡å™¨
scp ./target/release/rust-web user@server:/app/

# è¿è¡Œï¼ˆæ— éœ€ Rustã€cargoã€ä¾èµ–ï¼‰
./rust-web
```

é™æ€é“¾æ¥ï¼Œå¼€ç®±å³ç”¨ï¼

## æ¨èå·¥ä½œæµ

### å¼€å‘é˜¶æ®µ

```bash
# ä¿®æ”¹ä»£ç ...
cargo run         # å¿«é€ŸéªŒè¯
# ä¿®æ”¹ä»£ç ...
cargo run         # å†æ¬¡éªŒè¯
```

### æµ‹è¯•é˜¶æ®µ

```bash
cargo run --release    # å®Œæ•´æ€§èƒ½æµ‹è¯•
./benchmark.sh         # åŸºå‡†æµ‹è¯•
./test_api.sh         # API åŠŸèƒ½æµ‹è¯•
```

### éƒ¨ç½²é˜¶æ®µ

```bash
./build_release.sh                        # æ„å»º
./target/release/rust-web          # æœ¬åœ°éªŒè¯
scp ./target/release/rust-web ...  # ä¸Šä¼ æœåŠ¡å™¨
```

## æ›´å¤šæ–‡æ¡£

- ğŸ“– [å®Œæ•´ README](README.md)
- âš¡ï¸ [æ€§èƒ½ä¼˜åŒ–è¯¦è§£](PERFORMANCE.md)
- ğŸ§ª API æµ‹è¯•ï¼š`./test_api.sh`
- ğŸ“Š æ€§èƒ½æµ‹è¯•ï¼š`./benchmark.sh`

---

**è®°ä½ï¼šç”Ÿäº§ç¯å¢ƒä¸€å®šè¦ç”¨ `--release`ï¼** ğŸ¦€âš¡ï¸
